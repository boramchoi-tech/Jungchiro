<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="message">
	<resultMap type="messageDto" id="messageMap">
		<result property="message_seq" column="MESSAGE_SEQ"/>
		<result property="chat_seq" column="CHAT_SEQ"/>
		<result property="member_seq" column="MEMBER_SEQ"/>
		<result property="message_content" column="MESSAGE_CONTENT"/>
		<result property="message_time" column="MESSAGE_TIME"/>
		<result property="message_report" column="MESSAGE_REPORT"/>
	</resultMap>
	
	<select id="selectAll" parameterType="map" resultType="messageDto">
		SELECT m.MESSAGE_SEQ, c.CHAT_SEQ, mem.MEMBER_SEQ, m.MESSAGE_CONTENT, m.MESSAGE_TIME, m.MESSAGE_REPORT, c.CHAT_NAME, mem.MEMBER_ID
		FROM MESSAGE m, CHAT c, MEMBER mem
		WHERE m.CHAT_SEQ = c.CHAT_SEQ
		AND m.MEMBER_SEQ = mem.MEMBER_SEQ
		AND m.CHAT_SEQ = #{chat_seq}
		ORDER BY m.MESSAGE_SEQ ASC

	</select>

</mapper>
