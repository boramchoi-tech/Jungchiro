<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="boardDto">

	<resultMap type="boardDto" id="boardDto">
		<result property="board_seq" column="BOARD_SEQ" />
		<result property="member_seq" column="MEMBER_SEQ" />
		<result property="board_category" column="BOARD_CATEGORY" />
		<result property="board_title" column="BOARD_TITLE" />
		<result property="board_content" column="BOARD_CONTENT" />
		<result property="board_img1" column="BOARD_IMG1" />
		<result property="board_img2" column="BOARD_IMG2" />
		<result property="board_date" column="BOARD_DATE" />
		<result property="board_count" column="BOARD_COUNT" />

	</resultMap>

	<select id="boardList" resultType="boardDto">

		SELECT A.* FROM
		(SELECT B.*, ROWNUM AS RNUM FROM(SELECT * FROM BOARD ORDER BY BOARD_SEQ DESC)B)A
		 WHERE RNUM BETWEEN #{rowStart} AND #{rowEnd}

	</select>

	<select id="boardDetail" parameterType="int"
		resultType="boardDto">

		SELECT
		BOARD_SEQ, MEMBER_SEQ, BOARD_CATEGORY, BOARD_TITLE,
		BOARD_CONTENT,
		BOARD_IMG1, BOARD_IMG2, BOARD_DATE, BOARD_COUNT
		FROM
		BOARD WHERE
		BOARD_SEQ
		= #{board_seq}

	</select>

	<insert id="boardInsert" parameterType="boardDto">

		INSERT INTO BOARD
		(BOARD_SEQ, MEMBER_SEQ, BOARD_CATEGORY, BOARD_TITLE,
		BOARD_CONTENT,
		BOARD_IMG1, BOARD_IMG2, BOARD_DATE, BOARD_COUNT) VALUES
		(BOARD_SEQ.NEXTVAL, 1, #{board_category},
		#{board_title},
		#{board_content}, NULL, NULL, SYSDATE, DEFAULT )

	</insert>

	<update id="boardUpdate" parameterType="boardDto">

		UPDATE BOARD
		SET
		BOARD_CATEGORY = #{board_category}BOARD_TITLE=#{board_title},
		BOARD_CONTENT=#{board_content},
		WHERE
		BOARD_SEQ=#{board_seq}

	</update>

	<delete id="boardDelete" parameterType="int">

		DELELTE FROM BOARD WHERE
		BOARD_SEQ=#{board_seq}

	</delete>
</mapper>