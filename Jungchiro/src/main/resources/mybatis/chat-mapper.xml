<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="chat">

<resultMap type="chatDto" id="chatMap">
	<result property="chat_seq" column="CHAT_SEQ"/>
	<result property="chat_name" column="CHAT_NAME"/>
	<result property="chat_category" column="CHAT_CATEGORY"/>
	<result property="chat_makeday" column="CHAT_MAKEDAY"/>
</resultMap>

	<insert id="createRoom" parameterType="chatDto">
		INSERT INTO CHAT VALUES
		(CHAT_SEQ.NEXTVAL, #{chat_name}, #{chat_category}, SYSDATE)
		<selectKey keyProperty="chat_seq" resultType="int" order="AFTER">
			SELECT CHAT_SEQ.CURRVAL as CHAT_SEQ from dual
		</selectKey>

	</insert>

</mapper>
